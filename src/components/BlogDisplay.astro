---
const allPosts = await Astro.glob('../pages/posts/*.md')
allPosts.sort((a, b) => Date.parse(b.frontmatter.pubDate) - Date.parse(a.frontmatter.pubDate))
import readingTime from 'reading-time'
import dateFormat from 'dateformat';
---

<div class="w-full h-full grid grid-cols-4 gap-x-4 gap-y-4 justify-items-center">
    {allPosts.map((post) => 
        <a class="text-white" href={post.url}>
            <div class="shadow-lg transfrom hover:-translate-y-2 delay-100 duration-300">
                <img class="" src={post.frontmatter.image.url} alt={post.frontmatter.image.alt} />
                <div class="flex flex-col bg-slate-800 text-center p-4">
                    <p class="text-3xl">{post.frontmatter.title}</p>
                    <p>{post.frontmatter.description}</p>
                    <p>Author: {post.frontmatter.author}</p>
                    <p>{dateFormat(post.frontmatter.pubDate, "mmmm dS, yyyy")}</p>
                    <p>{Math.round(readingTime(post.rawContent()).minutes)} minutes</p>
                </div>
            </div>
        </a>
    )}
</div>

